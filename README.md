# minimal-ctmx

Minimal [ctmx](https://github.com/whamtet/ctmx) example to use [htmx](https://htmx.org/) in clojure. 
This example uses [http-kit](https://github.com/http-kit/http-kit), [ring](https://github.com/ring-clojure/ring) & [reitit](https://github.com/metosin/reitit). It is based on the [sente server example](https://github.com/ptaoussanis/sente/blob/master/example-project/src/example/server.clj). 

Ring 'site-defaults' with crsf included. 


Todo: 
- auto page refresh (hx-refresh? js? ring-refresh?)
- split/compose 'ctmx-page', fn containing html
- lein project.clj 
- template

## Installation

Download from https://github.com/dtou/minimal-ctmx

## Usage

Launch server directly, via `:exec-fn`:

    $ clojure -X:run-x
    Web server is running at http://localhost:3000/

Note that :dev? defaults to true

Launch server directly, overriding the args:

    $ clojure -X:run-x :dev? false :port 3001
    Web server is running at http://localhost:3001/

Stop server: 

    $ clojure -X:run-x
    Web server is running at http://localhost:3000/

Run the project directly, via `:main-opts` (`-m dtou.minimal-ctmx`):

    $ clojure -M:run-m
    Web server is running at http://localhost:3000/

Run the project, overriding the port:

    $ clojure -M:run-m 3002
    Web server is running at http://localhost:3002/

Run the project's tests (they'll fail until you edit them):

    $ clojure -X:test

Build an uberjar:

    $ clojure -X:uberjar

This will update the generated `pom.xml` file to keep the dependencies synchronized with
your `deps.edn` file. You can update the version (and SCM tag) information in the `pom.xml` using the
`:version` argument:

    $ clojure -X:uberjar :version '"1.2.3"'

If you don't want the `pom.xml` file in your project, you can remove it, but you will
also need to remove `:sync-pom true` from the `deps.edn` file (in the `:exec-args` for `depstar`).

Run that uberjar:

    $ java -jar minimal-ctmx.jar

## Options

FIXME: listing of options this app accepts.

## Examples

...

### Bugs

...

### Any Other Sections
### That You Think
### Might be Useful

## License

Copyright Â© 2021 Dtou

_EPLv1.0 is just the default for projects generated by `clj-new`: you are not_
_required to open source this project, nor are you required to use EPLv1.0!_
_Feel free to remove or change the `LICENSE` file and remove or update this_
_section of the `README.md` file!_

Distributed under the Eclipse Public License version 1.0.
